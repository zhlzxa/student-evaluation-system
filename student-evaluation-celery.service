[Unit]
Description=Student Evaluation System Celery Worker
After=network.target postgresql.service redis.service student-evaluation-backend.service
Wants=postgresql.service redis.service student-evaluation-backend.service

[Service]
Type=simple
User=UCLIXN
WorkingDirectory=/home/UCLIXN/student-evaluation-system/backend
Environment=DATABASE_URL=postgresql://postgres:hdtu4e8JzGqi4I9OUgapRE8Ud@localhost:5432/student_evaluation_system
Environment=REDIS_URL=redis://localhost:6379/0
Environment=CELERY_BROKER_URL=redis://localhost:6379/0
Environment=CELERY_RESULT_BACKEND=redis://localhost:6379/0
EnvironmentFile=/home/UCLIXN/student-evaluation-system/.env
ExecStart=/usr/bin/python3 -m celery -A app.celery_app worker --loglevel=info
Restart=always
RestartSec=3

[Install]
WantedBy=multi-user.target